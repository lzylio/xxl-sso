<!DOCTYPE html>
<!-- saved from url=(0032)https://www.xuxueli.com/xxl-sso/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>分布式单点登录框架XXL-SSO</title>
    <link rel="icon" href="https://www.xuxueli.com/favicon.ico">

    <meta name="keywords" content="分布式，单点登录，框架，XXL-SSO，SSO">
    <meta name="description" content="XXL-SSO 是一个分布式单点登录框架。只需要登录一次就可以访问所有相互信任的应用系统。">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <!-- CSS  -->
    <link href="./分布式单点登录框架XXL-SSO_files/material-icons.css" rel="stylesheet">
    <link href="./分布式单点登录框架XXL-SSO_files/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection">
    <!-- editor.md -->
    <link rel="stylesheet" href="./分布式单点登录框架XXL-SSO_files/editormd.preview.min.css">

    <!-- common -->
    <link rel="stylesheet" href="./分布式单点登录框架XXL-SSO_files/common.css">

<link type="text/css" rel="stylesheet" href="./分布式单点登录框架XXL-SSO_files/katex.min.css"><script id="-page-static-plugins-katex-katex-min" type="text/javascript" src="./分布式单点登录框架XXL-SSO_files/katex.min.js.下载"></script></head>
<body>

<!-- header start -->
<nav class="white" role="navigation">
    <div class="nav-wrapper container">
        <a id="logo-container" href="https://www.xuxueli.com/index.html" class="brand-logo" style="white-space:nowrap;">
            <img src="./分布式单点登录框架XXL-SSO_files/xxl-logo.jpg" style="width: 38px;vertical-align:middle;">
            XXL开源社区
        </a>
        <!-- pc-nav -->
        <ul class="right hide-on-med-and-down">
            <li><a href="https://www.xuxueli.com/index.html">首页</a></li>
            <li class="active"><a href="https://www.xuxueli.com/page/projects.html">项目</a></li>
            <li><a href="https://www.xuxueli.com/blog">博客</a></li>
            <li><a href="https://www.xuxueli.com/page/community.html">社区</a></li>
            <li><a href="https://www.xuxueli.com/page/donate.html">赞助</a></li>
        </ul>
        <!-- mobile-nav -->
        <ul id="nav-mobile" class="sidenav">
            <li>
                <div class="center" style="padding: 20px;">
                    <img src="./分布式单点登录框架XXL-SSO_files/xxl-logo.jpg" style="width: 80px;vertical-align:middle;">
                    <br>
                    <h5 style="color: #4db6ac !important;">XXL开源社区</h5>
                </div>
            </li>
            <li class="divider"></li>
            <li><a href="https://www.xuxueli.com/index.html">首页</a></li>
            <li class="active"><a href="https://www.xuxueli.com/page/projects.html">项目</a></li>
            <li><a href="https://www.xuxueli.com/blog">博客</a></li>
            <li><a href="https://www.xuxueli.com/page/community.html">社区</a></li>
            <li><a href="https://www.xuxueli.com/page/donate.html">赞助</a></li>
            <li class="divider"></li>
        </ul>
        <!-- menu icon -->
        <a href="https://www.xuxueli.com/xxl-sso/#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
    </div>
</nav>
<!-- header end -->

<!-- content -->
<div class="section no-pad-bot">
    <div class="container">

        <div class="row" style="margin: 0 auto;">

            <!-- index -->
            <div class="row">
                <div class="col s12 m12">
                    <div class="card">
                        <div class="card-content">

                            <!-- index -->
                            <div class="row center">
                                <img src="./分布式单点登录框架XXL-SSO_files/xxl-logo.jpg" style="width: 99px;">
                                <h5 class2="center teal-text text-lighten-2">XXL-SSO</h5>
                                <h6>分布式单点登录框架</h6>
                                <p class="light">
                                    轻量级、分布式、跨域、Cookie+Token均支持、Web+APP均支持
                                </p>
                            </div>
                            <div class="row center">
                                <a href="https://github.com/xuxueli/xxl-sso/" target="_blank" class="btn waves-effect waves-light grey">GitHub</a>
                                <a href="http://gitee.com/xuxueli0323/xxl-sso" target="_blank" class="btn waves-effect waves-light grey">Gitee</a>
                                <a href="https://www.xuxueli.com/xxl-sso/#%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E6%A1%86%E6%9E%B6XXL-SSO%E3%80%8B" class="btn waves-effect waves-light teal lighten-1">Get Started</a>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- content -->
            <div id="blog-content-view" class="markdown-body editormd-html-preview"><h2 id="h2--xxl-sso-"><a name="《分布式单点登录框架XXL-SSO》" class="reference-link"></a><span class="header-link octicon octicon-link"></span>《分布式单点登录框架XXL-SSO》</h2><p><a href="https://github.com/xuxueli/xxl-sso/actions"><img src="./分布式单点登录框架XXL-SSO_files/badge.svg" alt="Actions Status"></a><br><a href="https://maven-badges.herokuapp.com/maven-central/com.xuxueli/xxl-sso/"><img src="./分布式单点登录框架XXL-SSO_files/badge(1).svg" alt="Maven Central"></a><br><a href="https://github.com/xuxueli/xxl-sso/releases"><img src="./分布式单点登录框架XXL-SSO_files/xxl-sso.svg" alt="GitHub release"></a><br><a href="http://www.gnu.org/licenses/gpl-3.0.html"><img src="./分布式单点登录框架XXL-SSO_files/license-GPLv3-blue.svg" alt="License"></a><br><a href="https://www.xuxueli.com/page/donate.html"><img src="./分布式单点登录框架XXL-SSO_files/$-donate-ff69b4.svg" alt="donate"></a></p>
<div class="editormd-toc-menu"><div class="markdown-toc editormd-markdown-toc"><ul class="markdown-toc-list"><li><h1>目录 <i class="fa fa-angle-down"></i></h1></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E6%A1%86%E6%9E%B6XXL-SSO%E3%80%8B" level="2">《分布式单点登录框架XXL-SSO》</a></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%B8%80%E3%80%81%E7%AE%80%E4%BB%8B" level="2">一、简介</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.1%20%E6%A6%82%E8%BF%B0" level="3">1.1 概述</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.2%20%E7%A4%BE%E5%8C%BA%E4%BA%A4%E6%B5%81" level="3">1.2 社区交流</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.3%20%E7%89%B9%E6%80%A7" level="3">1.3 特性</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.4%20%E5%8F%91%E5%B1%95" level="3">1.4 发展</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.5%20%E4%B8%8B%E8%BD%BD" level="3">1.5 下载</a><ul><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E6%96%87%E6%A1%A3%E5%9C%B0%E5%9D%80" level="4">文档地址</a></li><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E6%BA%90%E7%A0%81%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80" level="4">源码仓库地址</a></li></ul></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.6%20%E7%8E%AF%E5%A2%83" level="3">1.6 环境</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%BA%8C%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%EF%BC%88%E5%9F%BA%E4%BA%8ECookie%EF%BC%89" level="2">二、快速入门（基于Cookie）</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.1%EF%BC%9A%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" level="3">2.1：源码编译</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.2%20%E9%83%A8%E7%BD%B2%20%E2%80%9C%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%EF%BC%88SSO%20Server%EF%BC%89%E2%80%9D" level="3">2.2 部署 “认证中心（SSO Server）”</a><ul><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" level="4">配置说明</a></li></ul></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.3%20%E9%83%A8%E7%BD%B2%20%E2%80%9C%E5%8D%95%E7%82%B9%E7%99%BB%E9%99%86Client%E7%AB%AF%E6%8E%A5%E5%85%A5%E7%A4%BA%E4%BE%8B%E9%A1%B9%E7%9B%AE%E2%80%9D" level="3">2.3 部署 “单点登陆Client端接入示例项目”</a><ul><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#maven%E4%BE%9D%E8%B5%96" level="4">maven依赖</a></li><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E9%85%8D%E7%BD%AE%20XxlSsoFilter" level="4">配置 XxlSsoFilter</a></li><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" level="4">配置说明</a></li></ul></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.4%20%E9%AA%8C%E8%AF%81" level="3">2.4 验证</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%B8%89%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%EF%BC%88%E5%9F%BA%E4%BA%8EToken%EF%BC%89" level="2">三、快速入门（基于Token）</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#3.1%20%E2%80%9C%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%EF%BC%88SSO%20Server%EF%BC%89%E2%80%9D%20%E6%90%AD%E5%BB%BA" level="3">3.1 “认证中心（SSO Server）” 搭建</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#3.2%20%E9%83%A8%E7%BD%B2%20%E2%80%9C%E5%8D%95%E7%82%B9%E7%99%BB%E9%99%86Client%E7%AB%AF%E6%8E%A5%E5%85%A5%E7%A4%BA%E4%BE%8B%E9%A1%B9%E7%9B%AE%E2%80%9D%20(Token%E6%96%B9%E5%BC%8F)" level="3">3.2 部署 “单点登陆Client端接入示例项目” (Token方式)</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#3.3%20%E9%AA%8C%E8%AF%81%20%20(%E6%A8%A1%E6%8B%9F%E8%AF%B7%E6%B1%82%20Token%20%E6%96%B9%E5%BC%8F%E6%8E%A5%E5%85%A5SSO%E7%9A%84%E6%8E%A5%E5%8F%A3)" level="3">3.3 验证  (模拟请求 Token 方式接入SSO的接口)</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E5%9B%9B%E3%80%81%E6%80%BB%E4%BD%93%E8%AE%BE%E8%AE%A1" level="2">四、总体设计</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.1%20%E6%9E%B6%E6%9E%84%E5%9B%BE" level="3">4.1 架构图</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.2%20%E5%8A%9F%E8%83%BD%E5%AE%9A%E4%BD%8D" level="3">4.2 功能定位</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.3%20%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" level="3">4.3 核心概念</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.4%20%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E5%89%96%E6%9E%90" level="3">4.4 登录流程剖析</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.5%20%E6%B3%A8%E9%94%80%E6%B5%81%E7%A8%8B%E5%89%96%E6%9E%90" level="3">4.5 注销流程剖析</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.6%20%E5%9F%BA%E4%BA%8ECookie%EF%BC%8C%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5" level="3">4.6 基于Cookie，相关概念</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.7%20%E5%9F%BA%E4%BA%8EToken%EF%BC%8C%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5" level="3">4.7 基于Token，相关概念</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.8%20%E6%9C%AA%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86" level="3">4.8 未登录状态请求处理</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.9%20%E7%99%BB%E5%BD%95%E6%80%81%E8%87%AA%E5%8A%A8%E5%BB%B6%E6%9C%9F" level="3">4.9 登录态自动延期</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.10%20%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81" level="3">4.10 记住密码</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.11%20%E8%B7%AF%E5%BE%84%E6%8E%92%E9%99%A4" level="3">4.11 路径排除</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%BA%94%E3%80%81%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97" level="2">五、版本更新日志</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#5.1%20%E7%89%88%E6%9C%AC%20v0.1.0%EF%BC%8C%E6%96%B0%E7%89%B9%E6%80%A7[2018-04-04]" level="3">5.1 版本 v0.1.0，新特性[2018-04-04]</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#5.2%20%E7%89%88%E6%9C%AC%20v1.1.0%20Release%20Notes%20[2018-11-06]" level="3">5.2 版本 v1.1.0 Release Notes [2018-11-06]</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#5.3%20%E7%89%88%E6%9C%AC%20v1.1.1%20Release%20Notes%20[%E8%BF%AD%E4%BB%A3%E4%B8%AD]" level="3">5.3 版本 v1.1.1 Release Notes [迭代中]</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#TODO%20LIST" level="3">TODO LIST</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E5%85%AD%E3%80%81%E5%85%B6%E4%BB%96" level="2">六、其他</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#6.1%20%E9%A1%B9%E7%9B%AE%E8%B4%A1%E7%8C%AE" level="3">6.1 项目贡献</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#6.2%20%E7%94%A8%E6%88%B7%E6%8E%A5%E5%85%A5%E7%99%BB%E8%AE%B0" level="3">6.2 用户接入登记</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#6.3%20%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%92%8C%E7%89%88%E6%9D%83" level="3">6.3 开源协议和版权</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#%E6%8D%90%E8%B5%A0" level="3">捐赠</a><ul></ul></li></ul></li></ul><a href="javascript:;" class="toc-menu-btn"><i class="fa fa-angle-down"></i>目录</a></div></div><br><div class="markdown-toc editormd-markdown-toc"><ul class="markdown-toc-list"><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E3%80%8A%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E6%A1%86%E6%9E%B6XXL-SSO%E3%80%8B" level="2">《分布式单点登录框架XXL-SSO》</a></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%B8%80%E3%80%81%E7%AE%80%E4%BB%8B" level="2">一、简介</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.1%20%E6%A6%82%E8%BF%B0" level="3">1.1 概述</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.2%20%E7%A4%BE%E5%8C%BA%E4%BA%A4%E6%B5%81" level="3">1.2 社区交流</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.3%20%E7%89%B9%E6%80%A7" level="3">1.3 特性</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.4%20%E5%8F%91%E5%B1%95" level="3">1.4 发展</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.5%20%E4%B8%8B%E8%BD%BD" level="3">1.5 下载</a><ul><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E6%96%87%E6%A1%A3%E5%9C%B0%E5%9D%80" level="4">文档地址</a></li><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E6%BA%90%E7%A0%81%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80" level="4">源码仓库地址</a></li></ul></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#1.6%20%E7%8E%AF%E5%A2%83" level="3">1.6 环境</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%BA%8C%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%EF%BC%88%E5%9F%BA%E4%BA%8ECookie%EF%BC%89" level="2">二、快速入门（基于Cookie）</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.1%EF%BC%9A%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91" level="3">2.1：源码编译</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.2%20%E9%83%A8%E7%BD%B2%20%E2%80%9C%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%EF%BC%88SSO%20Server%EF%BC%89%E2%80%9D" level="3">2.2 部署 “认证中心（SSO Server）”</a><ul><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" level="4">配置说明</a></li></ul></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.3%20%E9%83%A8%E7%BD%B2%20%E2%80%9C%E5%8D%95%E7%82%B9%E7%99%BB%E9%99%86Client%E7%AB%AF%E6%8E%A5%E5%85%A5%E7%A4%BA%E4%BE%8B%E9%A1%B9%E7%9B%AE%E2%80%9D" level="3">2.3 部署 “单点登陆Client端接入示例项目”</a><ul><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#maven%E4%BE%9D%E8%B5%96" level="4">maven依赖</a></li><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E9%85%8D%E7%BD%AE%20XxlSsoFilter" level="4">配置 XxlSsoFilter</a></li><li><a class="toc-level-4" href="https://www.xuxueli.com/xxl-sso/#%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" level="4">配置说明</a></li></ul></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#2.4%20%E9%AA%8C%E8%AF%81" level="3">2.4 验证</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%B8%89%E3%80%81%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%EF%BC%88%E5%9F%BA%E4%BA%8EToken%EF%BC%89" level="2">三、快速入门（基于Token）</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#3.1%20%E2%80%9C%E8%AE%A4%E8%AF%81%E4%B8%AD%E5%BF%83%EF%BC%88SSO%20Server%EF%BC%89%E2%80%9D%20%E6%90%AD%E5%BB%BA" level="3">3.1 “认证中心（SSO Server）” 搭建</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#3.2%20%E9%83%A8%E7%BD%B2%20%E2%80%9C%E5%8D%95%E7%82%B9%E7%99%BB%E9%99%86Client%E7%AB%AF%E6%8E%A5%E5%85%A5%E7%A4%BA%E4%BE%8B%E9%A1%B9%E7%9B%AE%E2%80%9D%20(Token%E6%96%B9%E5%BC%8F)" level="3">3.2 部署 “单点登陆Client端接入示例项目” (Token方式)</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#3.3%20%E9%AA%8C%E8%AF%81%20%20(%E6%A8%A1%E6%8B%9F%E8%AF%B7%E6%B1%82%20Token%20%E6%96%B9%E5%BC%8F%E6%8E%A5%E5%85%A5SSO%E7%9A%84%E6%8E%A5%E5%8F%A3)" level="3">3.3 验证  (模拟请求 Token 方式接入SSO的接口)</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E5%9B%9B%E3%80%81%E6%80%BB%E4%BD%93%E8%AE%BE%E8%AE%A1" level="2">四、总体设计</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.1%20%E6%9E%B6%E6%9E%84%E5%9B%BE" level="3">4.1 架构图</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.2%20%E5%8A%9F%E8%83%BD%E5%AE%9A%E4%BD%8D" level="3">4.2 功能定位</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.3%20%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" level="3">4.3 核心概念</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.4%20%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B%E5%89%96%E6%9E%90" level="3">4.4 登录流程剖析</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.5%20%E6%B3%A8%E9%94%80%E6%B5%81%E7%A8%8B%E5%89%96%E6%9E%90" level="3">4.5 注销流程剖析</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.6%20%E5%9F%BA%E4%BA%8ECookie%EF%BC%8C%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5" level="3">4.6 基于Cookie，相关概念</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.7%20%E5%9F%BA%E4%BA%8EToken%EF%BC%8C%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5" level="3">4.7 基于Token，相关概念</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.8%20%E6%9C%AA%E7%99%BB%E5%BD%95%E7%8A%B6%E6%80%81%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86" level="3">4.8 未登录状态请求处理</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.9%20%E7%99%BB%E5%BD%95%E6%80%81%E8%87%AA%E5%8A%A8%E5%BB%B6%E6%9C%9F" level="3">4.9 登录态自动延期</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.10%20%E8%AE%B0%E4%BD%8F%E5%AF%86%E7%A0%81" level="3">4.10 记住密码</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#4.11%20%E8%B7%AF%E5%BE%84%E6%8E%92%E9%99%A4" level="3">4.11 路径排除</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E4%BA%94%E3%80%81%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97" level="2">五、版本更新日志</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#5.1%20%E7%89%88%E6%9C%AC%20v0.1.0%EF%BC%8C%E6%96%B0%E7%89%B9%E6%80%A7[2018-04-04]" level="3">5.1 版本 v0.1.0，新特性[2018-04-04]</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#5.2%20%E7%89%88%E6%9C%AC%20v1.1.0%20Release%20Notes%20[2018-11-06]" level="3">5.2 版本 v1.1.0 Release Notes [2018-11-06]</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#5.3%20%E7%89%88%E6%9C%AC%20v1.1.1%20Release%20Notes%20[%E8%BF%AD%E4%BB%A3%E4%B8%AD]" level="3">5.3 版本 v1.1.1 Release Notes [迭代中]</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#TODO%20LIST" level="3">TODO LIST</a></li></ul></li><li><a class="toc-level-2" href="https://www.xuxueli.com/xxl-sso/#%E5%85%AD%E3%80%81%E5%85%B6%E4%BB%96" level="2">六、其他</a><ul><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#6.1%20%E9%A1%B9%E7%9B%AE%E8%B4%A1%E7%8C%AE" level="3">6.1 项目贡献</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#6.2%20%E7%94%A8%E6%88%B7%E6%8E%A5%E5%85%A5%E7%99%BB%E8%AE%B0" level="3">6.2 用户接入登记</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#6.3%20%E5%BC%80%E6%BA%90%E5%8D%8F%E8%AE%AE%E5%92%8C%E7%89%88%E6%9D%83" level="3">6.3 开源协议和版权</a></li><li><a class="toc-level-3" href="https://www.xuxueli.com/xxl-sso/#%E6%8D%90%E8%B5%A0" level="3">捐赠</a><ul></ul></li></ul></li></ul></div><h2 id="h2--"><a name="一、简介" class="reference-link"></a><span class="header-link octicon octicon-link"></span>一、简介</h2><h3 id="h3-1-1-"><a name="1.1 概述" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.1 概述</h3><p>XXL-SSO 是一个分布式单点登录框架。只需要登录一次就可以访问所有相互信任的应用系统。<br>拥有”轻量级、分布式、跨域、Cookie+Token均支持、Web+APP均支持”等特性。现已开放源代码，开箱即用。</p>
<h3 id="h3-1-2-"><a name="1.2 社区交流" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.2 社区交流</h3><ul>
<li><a href="https://www.xuxueli.com/page/community.html">社区交流</a></li></ul>
<h3 id="h3-1-3-"><a name="1.3 特性" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.3 特性</h3><ul>
<li>1、简洁：API直观简洁，可快速上手</li><li>2、轻量级：环境依赖小，部署与接入成本较低</li><li>3、单点登录：只需要登录一次就可以访问所有相互信任的应用系统</li><li>4、分布式：接入SSO认证中心的应用，支持分布式部署</li><li>5、HA：Server端与Client端，均支持集群部署，提高系统可用性</li><li>6、跨域：支持跨域应用接入SSO认证中心</li><li>7、Cookie+Token均支持：支持基于Cookie和基于Token两种接入方式，并均提供Sample项目</li><li>8、Web+APP均支持：支持Web和APP接入</li><li>9、实时性：系统登陆、注销状态，全部Server与Client端实时共享</li><li>10、CS结构：基于CS结构，包括Server”认证中心”与Client”受保护应用”</li><li>11、记住密码：未记住密码时，关闭浏览器则登录态失效；记住密码时，支持登录态自动延期，在自定义延期时间的基础上，原则上可以无限延期</li><li>12、路径排除：支持自定义多个排除路径，支持Ant表达式,用于排除SSO客户端不需要过滤的路径</li></ul>
<h3 id="h3-1-4-"><a name="1.4 发展" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.4 发展</h3><p>于2018年初，我在github上创建XXL-SSO项目仓库并提交第一个commit，随之进行系统结构设计，UI选型，交互设计……</p>
<p>于2018-12-05，XXL-SSO参与”<a href="https://www.oschina.net/project/top_cn_2018?sort=1">2018年度最受欢迎中国开源软件</a>“评比，在当时已录入的一万多个国产开源项目中角逐，最终排名第55名。</p>
<p>于2019-01-23，XXL-SSO被评选上榜”<a href="https://www.oschina.net/news/103857/2018-osc-new-opensource-software-cn-top50">2018年度新增开源软件排行榜之国产 TOP 50</a>“评比，排名第8名。</p>
<p>至今，XXL-SSO已接入多家公司的线上产品线，接入场景如电商业务，O2O业务和核心中间件配置动态化等，截止2018-03-15为止，XXL-SSO已接入的公司包括不限于：</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="lit">1.</span><span class="pln"> </span><span class="pun">湖南创发科技</span></code></li><li class="L1"><code><span class="lit">2.</span><span class="pln"> </span><span class="pun">深圳龙华科技有限公司</span></code></li><li class="L2"><code><span class="lit">3.</span><span class="pln"> </span><span class="pun">摩根国际</span></code></li><li class="L3"><code><span class="lit">4.</span><span class="pln"> </span><span class="pun">印记云</span></code></li></ol></pre><blockquote>
<p>更多接入的公司，欢迎在 <a href="https://github.com/xuxueli/xxl-sso/issues/1">登记地址</a> 登记，登记仅仅为了产品推广。</p>
</blockquote>
<p>欢迎大家的关注和使用，XXL-SSO也将拥抱变化，持续发展。</p>
<h3 id="h3-1-5-"><a name="1.5 下载" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.5 下载</h3><h4 id="h4-u6587u6863u5730u5740"><a name="文档地址" class="reference-link"></a><span class="header-link octicon octicon-link"></span>文档地址</h4><ul>
<li><a href="https://www.xuxueli.com/xxl-sso/">中文文档</a></li></ul>
<h4 id="h4-u6E90u7801u4ED3u5E93u5730u5740"><a name="源码仓库地址" class="reference-link"></a><span class="header-link octicon octicon-link"></span>源码仓库地址</h4><table>
<thead>
<tr>
<th>源码仓库地址</th>
<th>Release Download</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/xuxueli/xxl-sso">https://github.com/xuxueli/xxl-sso</a></td>
<td><a href="https://github.com/xuxueli/xxl-sso/releases">Download</a></td>
</tr>
<tr>
<td><a href="https://gitee.com/xuxueli0323/xxl-sso">https://gitee.com/xuxueli0323/xxl-sso</a></td>
<td><a href="https://gitee.com/xuxueli0323/xxl-sso/releases">Download</a>  </td>
</tr>
</tbody>
</table>
<h3 id="h3-1-6-"><a name="1.6 环境" class="reference-link"></a><span class="header-link octicon octicon-link"></span>1.6 环境</h3><ul>
<li>JDK：1.7+</li><li>Redis：4.0+</li></ul>
<h2 id="h2--cookie-"><a name="二、快速入门（基于Cookie）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>二、快速入门（基于Cookie）</h2><blockquote>
<p>基于Cookie，相关概念可参考 “章节 4.6”</p>
</blockquote>
<h3 id="h3-2-1-"><a name="2.1：源码编译" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.1：源码编译</h3><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">-</span><span class="pln"> xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">server</span><span class="pun">：中央认证服务，支持集群</span></code></li><li class="L1"><code><span class="pun">-</span><span class="pln"> xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">core</span><span class="pun">：</span><span class="typ">Client</span><span class="pun">端依赖</span></code></li><li class="L2"><code><span class="pun">-</span><span class="pln"> xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">samples</span><span class="pun">：单点登陆</span><span class="typ">Client</span><span class="pun">端接入示例项目</span></code></li><li class="L3"><code><span class="pln">    </span><span class="pun">-</span><span class="pln"> xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">web</span><span class="pun">-</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">springboot</span><span class="pun">：基于</span><span class="typ">Cookie</span><span class="pun">接入方式，供用户浏览器访问，</span><span class="pln">springboot</span><span class="pun">版本</span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">-</span><span class="pln"> xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">token</span><span class="pun">-</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">springboot</span><span class="pun">：基于</span><span class="typ">Token</span><span class="pun">接入方式，常用于无法使用</span><span class="typ">Cookie</span><span class="pun">的场景使用，如</span><span class="pln">APP</span><span class="pun">、</span><span class="typ">Cookie</span><span class="pun">被禁用等，</span><span class="pln">springboot</span><span class="pun">版本</span></code></li></ol></pre><h3 id="h3-2-2-sso-server-"><a name="2.2 部署 “认证中心（SSO Server）”" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.2 部署 “认证中心（SSO Server）”</h3><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">项目名：</span><span class="pln">xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">server</span></code></li></ol></pre><h4 id="h4-u914Du7F6Eu8BF4u660E"><a name="配置说明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>配置说明</h4><p>配置文件位置：application.properties</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">……</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="com">// redis 地址： 如 "{ip}"、"{ip}:{port}"、"{redis/rediss}://xxl-sso:{password}@{ip}:{port:6379}/{db}"；多地址逗号分隔</span></code></li><li class="L3"><code><span class="pln">xxl</span><span class="pun">.</span><span class="pln">sso</span><span class="pun">.</span><span class="pln">redis</span><span class="pun">.</span><span class="pln">address</span><span class="pun">=</span><span class="pln">redis</span><span class="pun">:</span><span class="com">//127.0.0.1:6379</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="com">// 登录态有效期窗口，默认24H，当登录态有效期窗口过半时，自动顺延一个周期</span></code></li><li class="L6"><code><span class="pln">xxl</span><span class="pun">.</span><span class="pln">sso</span><span class="pun">.</span><span class="pln">redis</span><span class="pun">.</span><span class="pln">expire</span><span class="pun">.</span><span class="pln">minute</span><span class="pun">=</span><span class="lit">1440</span></code></li></ol></pre><h3 id="h3-2-3-client-"><a name="2.3 部署 “单点登陆Client端接入示例项目”" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.3 部署 “单点登陆Client端接入示例项目”</h3><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">项目名：</span><span class="pln">xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">web</span><span class="pun">-</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">springboot</span></code></li></ol></pre><h4 id="h4-maven-"><a name="maven依赖" class="reference-link"></a><span class="header-link octicon octicon-link"></span>maven依赖</h4><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="tag">&lt;dependency&gt;</span></code></li><li class="L1"><code><span class="pln">    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">com.xuxueli</span><span class="tag">&lt;/groupId&gt;</span></code></li><li class="L2"><code><span class="pln">    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">xxl-sso-core</span><span class="tag">&lt;/artifactId&gt;</span></code></li><li class="L3"><code><span class="pln">    </span><span class="tag">&lt;version&gt;</span><span class="pln">${最新稳定版}</span><span class="tag">&lt;/version&gt;</span></code></li><li class="L4"><code><span class="tag">&lt;/dependency&gt;</span></code></li></ol></pre><h4 id="h4--xxlssofilter"><a name="配置 XxlSsoFilter" class="reference-link"></a><span class="header-link octicon octicon-link"></span>配置 XxlSsoFilter</h4><p>参考代码：com.xxl.sso.sample.config.XxlSsoConfig</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="lit">@Bean</span></code></li><li class="L1"><code><span class="kwd">public</span><span class="pln"> </span><span class="typ">FilterRegistrationBean</span><span class="pln"> xxlSsoFilterRegistration</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">    </span><span class="com">// xxl-sso, redis init</span></code></li><li class="L4"><code><span class="pln">    </span><span class="typ">JedisUtil</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="pln">xxlSsoRedisAddress</span><span class="pun">);</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">    </span><span class="com">// xxl-sso, filter init</span></code></li><li class="L7"><code><span class="pln">    </span><span class="typ">FilterRegistrationBean</span><span class="pln"> registration </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">FilterRegistrationBean</span><span class="pun">();</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pln">    registration</span><span class="pun">.</span><span class="pln">setName</span><span class="pun">(</span><span class="str">"XxlSsoWebFilter"</span><span class="pun">);</span></code></li><li class="L0"><code><span class="pln">    registration</span><span class="pun">.</span><span class="pln">setOrder</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">    registration</span><span class="pun">.</span><span class="pln">addUrlPatterns</span><span class="pun">(</span><span class="str">"/*"</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pln">    registration</span><span class="pun">.</span><span class="pln">setFilter</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XxlSsoWebFilter</span><span class="pun">());</span></code></li><li class="L3"><code><span class="pln">    registration</span><span class="pun">.</span><span class="pln">addInitParameter</span><span class="pun">(</span><span class="typ">Conf</span><span class="pun">.</span><span class="pln">SSO_SERVER</span><span class="pun">,</span><span class="pln"> xxlSsoServer</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">    registration</span><span class="pun">.</span><span class="pln">addInitParameter</span><span class="pun">(</span><span class="typ">Conf</span><span class="pun">.</span><span class="pln">SSO_LOGOUT_PATH</span><span class="pun">,</span><span class="pln"> xxlSsoLogoutPath</span><span class="pun">);</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> registration</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pun">}</span></code></li></ol></pre><h4 id="h4-u914Du7F6Eu8BF4u660E"><a name="配置说明" class="reference-link"></a><span class="header-link octicon octicon-link"></span>配置说明</h4><p>配置文件位置：application.properties</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">……</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="com">### xxl-sso     (CLient端SSO配置)</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="com">##### SSO Server认证中心地址（推荐以域名方式配置认证中心，本机可参考章节"2.5"修改host文件配置域名指向）</span></code></li><li class="L5"><code><span class="pln">xxl</span><span class="pun">.</span><span class="pln">sso</span><span class="pun">.</span><span class="pln">server</span><span class="pun">=</span><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoserver.com:8080/xxl-sso-server</span></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="com">##### 注销登陆path，值为Client端应用的相对路径</span></code></li><li class="L8"><code><span class="pln">xxl</span><span class="pun">.</span><span class="pln">sso</span><span class="pun">.</span><span class="pln">logout</span><span class="pun">.</span><span class="pln">path</span><span class="pun">=/</span><span class="pln">logout</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="com">##### 路径排除Path，允许设置多个，且支持Ant表达式。用于排除SSO客户端不需要过滤的路径</span></code></li><li class="L1"><code><span class="pln">xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">.</span><span class="pln">excluded</span><span class="pun">.</span><span class="pln">paths</span><span class="pun">=</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="com">### redis   // redis address, like "{ip}"、"{ip}:{port}"、"{redis/rediss}://xxl-sso:{password}@{ip}:{port:6379}/{db}"；Multiple "," separated</span></code></li><li class="L4"><code><span class="pln">xxl</span><span class="pun">.</span><span class="pln">sso</span><span class="pun">.</span><span class="pln">redis</span><span class="pun">.</span><span class="pln">address</span><span class="pun">=</span><span class="pln">redis</span><span class="pun">:</span><span class="com">//xxl-sso:password@127.0.0.1:6379/0</span></code></li></ol></pre><h3 id="h3-2-4-"><a name="2.4 验证" class="reference-link"></a><span class="header-link octicon octicon-link"></span>2.4 验证</h3><ul>
<li><p>修改Host文件：域名方式访问认证中心，模拟跨域与线上真实环境</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="com">### 在host文件中添加以下内容0</span></code></li><li class="L1"><code><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> xxlssoserver</span><span class="pun">.</span><span class="pln">com</span></code></li><li class="L2"><code><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> xxlssoclient1</span><span class="pun">.</span><span class="pln">com</span></code></li><li class="L3"><code><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> xxlssoclient2</span><span class="pun">.</span><span class="pln">com</span></code></li></ol></pre></li><li><p>分别运行 “xxl-sso-server” 与 “xxl-sso-web-sample-springboot”</p>
</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="lit">1</span><span class="pun">、</span><span class="pln">SSO</span><span class="pun">认证中心地址：</span></code></li><li class="L1"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoserver.com:8080/xxl-sso-server</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="lit">2</span><span class="pun">、</span><span class="typ">Client01</span><span class="pun">应用地址：</span></code></li><li class="L4"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoclient1.com:8081/xxl-sso-web-sample-springboot/</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="lit">3</span><span class="pun">、</span><span class="typ">Client02</span><span class="pun">应用地址：</span></code></li><li class="L7"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoclient2.com:8081/xxl-sso-web-sample-springboot/</span></code></li></ol></pre><ul>
<li>SSO登录/注销流程验证</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">正常情况下，登录流程如下：</span></code></li><li class="L1"><code><span class="lit">1</span><span class="pun">、访问</span><span class="pln"> </span><span class="str">"Client01应用地址"</span><span class="pln"> </span><span class="pun">，将会自动</span><span class="pln"> redirect </span><span class="pun">到</span><span class="pln"> </span><span class="str">"SSO认证中心地址"</span><span class="pln"> </span><span class="pun">登录界面</span></code></li><li class="L2"><code><span class="lit">2</span><span class="pun">、成功登录后，将会自动</span><span class="pln"> redirect </span><span class="pun">返回到</span><span class="pln"> </span><span class="str">"Client01应用地址"</span><span class="pun">，并切换为已登录状态</span></code></li><li class="L3"><code><span class="lit">3</span><span class="pun">、此时，访问</span><span class="pln"> </span><span class="str">"Client02应用地址"</span><span class="pun">，不需登陆将会自动切换为已登录状态</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pun">正常情况下，注销流程如下：</span></code></li><li class="L6"><code><span class="lit">1</span><span class="pun">、访问</span><span class="pln"> </span><span class="str">"Client01应用地址"</span><span class="pln"> </span><span class="pun">配置的</span><span class="pln"> </span><span class="str">"注销登陆path"</span><span class="pun">，将会自动</span><span class="pln"> redirect </span><span class="pun">到</span><span class="pln"> </span><span class="str">"SSO认证中心地址"</span><span class="pln"> </span><span class="pun">并自动注销登陆状态</span></code></li><li class="L7"><code><span class="lit">2</span><span class="pun">、此时，访问</span><span class="pln"> </span><span class="str">"Client02应用地址"</span><span class="pun">，也将会自动注销登陆状态</span></code></li></ol></pre><h2 id="h2--token-"><a name="三、快速入门（基于Token）" class="reference-link"></a><span class="header-link octicon octicon-link"></span>三、快速入门（基于Token）</h2><blockquote>
<p>基于Token，相关概念可参考 “章节 4.7”；（在一些无法使用Cookie的场景下，可使用该方式，否则可以忽略本章节）</p>
</blockquote>
<h3 id="h3-3-1-sso-server-"><a name="3.1 “认证中心（SSO Server）” 搭建" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3.1 “认证中心（SSO Server）” 搭建</h3><blockquote>
<p>可参考 “章节二” 搭建</p>
</blockquote>
<p>“认证中心” 搭建成功后，默认为Token方式登陆提供API接口如下：</p>
<ul>
<li><p>1、登陆接口：/app/login</p>
<ul>
<li>参数：POST参数<ul>
<li>username：账号</li><li>password：账号</li></ul>
</li><li>响应：JSON格式<ul>
<li>code：200 表示成功、其他失败</li><li>msg：错误提示</li><li>data: 登陆用户的 sso sessionid</li></ul>
</li></ul>
</li><li><p>2、注销接口：/app/logout</p>
<ul>
<li>参数：POST参数<ul>
<li>sessionId：登陆用户的 sso sessionid</li></ul>
</li><li>响应：JSON格式<ul>
<li>code：200 表示成功、其他失败</li><li>msg：错误提示</li></ul>
</li></ul>
</li><li><p>3、登陆状态校验接口：/app/logincheck</p>
<ul>
<li>参数：POST参数<ul>
<li>sessionId：登陆用户的 sso sessionid</li></ul>
</li><li>响应：JSON格式<ul>
<li>code：200 表示成功、其他失败</li><li>msg：错误提示</li><li>data：登陆用户信息<ul>
<li>userid：用户ID</li><li>username：用户名</li></ul>
</li></ul>
</li></ul>
</li></ul>
<h3 id="h3-3-2-client-token-"><a name="3.2 部署 “单点登陆Client端接入示例项目” (Token方式)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3.2 部署 “单点登陆Client端接入示例项目” (Token方式)</h3><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">项目名：</span><span class="pln">xxl</span><span class="pun">-</span><span class="pln">sso</span><span class="pun">-</span><span class="pln">token</span><span class="pun">-</span><span class="pln">sample</span><span class="pun">-</span><span class="pln">springboot</span></code></li></ol></pre><blockquote>
<p>可参考 “章节 2.4” 部署 “单点登陆Client端接入示例项目”，唯一不同点是：将web应用的 “XxlSsoFilter” 更换为app应用 “XxlSsoTokenFilter”</p>
</blockquote>
<h3 id="h3-3-3-token-sso-"><a name="3.3 验证  (模拟请求 Token 方式接入SSO的接口)" class="reference-link"></a><span class="header-link octicon octicon-link"></span>3.3 验证  (模拟请求 Token 方式接入SSO的接口)</h3><ul>
<li><p>修改Host文件：域名方式访问认证中心，模拟跨域与线上真实环境</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="com">### 在host文件中添加以下内容0</span></code></li><li class="L1"><code><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> xxlssoserver</span><span class="pun">.</span><span class="pln">com</span></code></li><li class="L2"><code><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> xxlssoclient1</span><span class="pun">.</span><span class="pln">com</span></code></li><li class="L3"><code><span class="lit">127.0</span><span class="pun">.</span><span class="lit">0.1</span><span class="pln"> xxlssoclient2</span><span class="pun">.</span><span class="pln">com</span></code></li></ol></pre></li><li><p>分别运行 “xxl-sso-server” 与 “xxl-sso-token-sample-springboot”</p>
</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="lit">1</span><span class="pun">、</span><span class="pln">SSO</span><span class="pun">认证中心地址：</span></code></li><li class="L1"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoserver.com:8080/xxl-sso-server</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="lit">2</span><span class="pun">、</span><span class="typ">Client01</span><span class="pun">应用地址：</span></code></li><li class="L4"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoclient1.com:8082/xxl-sso-token-sample-springboot/</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="lit">3</span><span class="pun">、</span><span class="typ">Client02</span><span class="pun">应用地址：</span></code></li><li class="L7"><code><span class="pln">http</span><span class="pun">:</span><span class="com">//xxlssoclient2.com:8082/xxl-sso-token-sample-springboot/</span></code></li></ol></pre><ul>
<li>SSO登录/注销流程验证<blockquote>
<p>可参考测试用例 ：com.xxl.app.sample.test.TokenClientTest</p>
</blockquote>
</li></ul>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pun">正常情况下，登录流程如下：</span></code></li><li class="L1"><code><span class="lit">1</span><span class="pun">、获取用户输入的账号密码后，请求</span><span class="pln">SSO </span><span class="typ">Server</span><span class="pun">的登录接口，获取用户</span><span class="pln"> sso sessionid </span><span class="pun">；（参考代码：</span><span class="typ">TokenClientTest</span><span class="pun">.</span><span class="pln">loginTest</span><span class="pun">）</span></code></li><li class="L2"><code><span class="lit">2</span><span class="pun">、登陆成功后，获取到</span><span class="pln"> sso sessionid </span><span class="pun">，需要主动存储，后续请求时需要设置在</span><span class="pln"> </span><span class="typ">Header</span><span class="pun">参数</span><span class="pln"> </span><span class="pun">中</span></code></li><li class="L3"><code><span class="lit">3</span><span class="pun">、此时，使用</span><span class="pln"> sso sessionid </span><span class="pun">访问受保护的</span><span class="pln"> </span><span class="str">"Client01应用"</span><span class="pln"> </span><span class="pun">和</span><span class="pln"> </span><span class="str">"Client02应用"</span><span class="pln"> </span><span class="pun">提供的接口，接口均正常返回（参考代码：</span><span class="typ">TokenClientTest</span><span class="pun">.</span><span class="pln">clientApiRequestTest</span><span class="pun">）</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pun">正常情况下，注销流程如下：</span></code></li><li class="L6"><code><span class="lit">1</span><span class="pun">、请求</span><span class="pln">SSO </span><span class="typ">Server</span><span class="pun">的注销接口，注销登陆凭证</span><span class="pln"> sso sessionid </span><span class="pun">；（参考代码：</span><span class="typ">TokenClientTest</span><span class="pun">.</span><span class="pln">logoutTest</span><span class="pun">）</span></code></li><li class="L7"><code><span class="lit">2</span><span class="pun">、注销成功后，</span><span class="pln">sso sessionid </span><span class="pun">将会全局失效</span></code></li><li class="L8"><code><span class="lit">3</span><span class="pun">、此时，使用</span><span class="pln"> sso sessionid </span><span class="pun">访问受保护的</span><span class="pln"> </span><span class="str">"Client01应用"</span><span class="pln"> </span><span class="pun">和</span><span class="pln"> </span><span class="str">"Client02应用"</span><span class="pln"> </span><span class="pun">提供的接口，接口请求将会被拦截，提示未登录并返回状态码</span><span class="pln"> </span><span class="lit">501</span><span class="pun">（参考代码：</span><span class="typ">TokenClientTest</span><span class="pun">.</span><span class="pln">clientApiRequestTest</span><span class="pun">）</span></code></li></ol></pre><h2 id="h2--"><a name="四、总体设计" class="reference-link"></a><span class="header-link octicon octicon-link"></span>四、总体设计</h2><h3 id="h3-4-1-"><a name="4.1 架构图" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.1 架构图</h3><p><img src="./分布式单点登录框架XXL-SSO_files/img_01.png" alt="输入图片说明" title="在这里输入图片标题"></p>
<h3 id="h3-4-2-"><a name="4.2 功能定位" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.2 功能定位</h3><p>XXL-SSO 是一个分布式单点登录框架。只需要登录一次就可以访问所有相互信任的应用系统。</p>
<p>借助 XXL-SSO，可以快速实现分布式系统单点登录。</p>
<h3 id="h3-4-3-"><a name="4.3 核心概念" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.3 核心概念</h3><table>
<thead>
<tr>
<th>概念</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSO Server</td>
<td>中央认证服务，支持集群</td>
</tr>
<tr>
<td>SSO Client</td>
<td>接入SSO认证中心的Client应用</td>
</tr>
<tr>
<td>SSO SessionId</td>
<td>登录用户会话ID，SSO 登录成功为用户自动分配</td>
</tr>
<tr>
<td>SSO User</td>
<td>登录用户信息，与 SSO SessionId 相对应</td>
</tr>
</tbody>
</table>
<h3 id="h3-4-4-"><a name="4.4 登录流程剖析" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.4 登录流程剖析</h3><ul>
<li>用户于Client端应用访问受限资源时，将会自动 redirect 到 SSO Server 进入统一登录界面</li><li>用户登录成功之后将会为用户分配 SSO SessionId 并 redirect 返回来源Client端应用，同时附带分配的 SSO SessionId</li><li>在Client端的SSO Filter里验证 SSO SessionId 无误，将 SSO SessionId 写入到用户浏览器Client端域名下 cookie 中</li><li>SSO Filter验证 SSO SessionId 通过，受限资源请求放行</li></ul>
<h3 id="h3-4-5-"><a name="4.5 注销流程剖析" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.5 注销流程剖析</h3><ul>
<li>用户与Client端应用请求注销Path时，将会 redirect 到 SSO Server 自动销毁全局 SSO SessionId，实现全局销毁</li><li>然后，访问接入SSO保护的任意Client端应用时，SSO Filter 均会拦截请求并 redirect 到 SSO Server 的统一登录界面</li></ul>
<h3 id="h3-4-6-cookie-"><a name="4.6 基于Cookie，相关概念" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.6 基于Cookie，相关概念</h3><ul>
<li>登陆凭证存储：登陆成功后，用户登陆凭证被自动存储在浏览器Cookie中</li><li>Client端校验登陆状态：通过校验请求Cookie中的是否包含用户登录凭证判断</li><li>系统角色模型：<ul>
<li>SSO Server：认证中心，提供用户登陆、注销以及登陆状态校验等功能</li><li>Client应用：受SSO保护的Client端Web应用，为用户浏览器访问提供服务</li><li>用户：发起请求的用户，使用浏览器访问</li></ul>
</li></ul>
<h3 id="h3-4-7-token-"><a name="4.7 基于Token，相关概念" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.7 基于Token，相关概念</h3><ul>
<li>登陆凭证存储：登陆成功后，获取到登录凭证（xxl_sso_sessionid=xxx），需要主动存储，如存储在 localStorage、Sqlite 中</li><li>Client端校验登陆状态：通过校验请求 Header参数 中的是否包含用户登录凭证（xxl_sso_sessionid=xxx）判断；因此，发送请求时需要在 Header参数 中设置登陆凭证</li><li>系统角色模型：<ul>
<li>SSO Server：认证中心，提供用户登陆、注销以及登陆状态校验等功能</li><li>Client应用：受SSO保护的Client端Web应用，为用户请求提供接口服务</li><li>用户：发起请求的用户，如使用Android、IOS、桌面客户端等请求访问</li></ul>
</li></ul>
<h3 id="h3-4-8-"><a name="4.8 未登录状态请求处理" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.8 未登录状态请求处理</h3><p>基于Cookie，未登录状态请求：</p>
<ul>
<li>页面请求：redirect 到SSO Server登录界面</li><li>JSON请求：返回未登录的JSON格式响应数据<ul>
<li>数据格式：<ul>
<li>code：501 错误码</li><li>msg：sso not login.</li></ul>
</li></ul>
</li></ul>
<p>基于Token，未登录状态请求：</p>
<ul>
<li>返回未登录的JSON格式响应数据<ul>
<li>数据格式：<ul>
<li>code：501 错误码</li><li>msg：sso not login.</li></ul>
</li></ul>
</li></ul>
<h3 id="h3-4-9-"><a name="4.9 登录态自动延期" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.9 登录态自动延期</h3><p>支持自定义登录态有效期窗口，默认24H，当登录态有效期窗口过半时，自动顺延一个周期。</p>
<h3 id="h3-4-10-"><a name="4.10 记住密码" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.10 记住密码</h3><p>未记住密码时，关闭浏览器则登录态失效；记住密码时，登录态自动延期，在自定义延期时间的基础上，原则上可以无限延期。</p>
<h3 id="h3-4-11-"><a name="4.11 路径排除" class="reference-link"></a><span class="header-link octicon octicon-link"></span>4.11 路径排除</h3><p>自定义路径排除Path，允许设置多个，且支持Ant表达式。用于排除SSO客户端不需要过滤的路径。</p>
<h2 id="h2--"><a name="五、版本更新日志" class="reference-link"></a><span class="header-link octicon octicon-link"></span>五、版本更新日志</h2><h3 id="h3-5-1-v0-1-0-2018-04-04-"><a name="5.1 版本 v0.1.0，新特性[2018-04-04]" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5.1 版本 v0.1.0，新特性[2018-04-04]</h3><ul>
<li>1、简洁：API直观简洁，可快速上手</li><li>2、轻量级：环境依赖小，部署与接入成本较低</li><li>3、单点登录：只需要登录一次就可以访问所有相互信任的应用系统</li><li>4、分布式：接入SSO认证中心的应用，支持分布式部署</li><li>5、HA：Server端与Client端，均支持集群部署，提高系统可用性</li><li>6、实时性：系统登陆、注销状态，全部Server与Client端实时共享</li><li>7、CS结构：基于CS结构，包括Server”认证中心”与Client”受保护应用”</li><li>8、跨域：支持跨域应用接入SSO认证中心</li></ul>
<h3 id="h3-5-2-v1-1-0-release-notes-2018-11-06-"><a name="5.2 版本 v1.1.0 Release Notes [2018-11-06]" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5.2 版本 v1.1.0 Release Notes [2018-11-06]</h3><ul>
<li>1、 Redis配置方式增强，支持自定义DB、密码、IP、PORT等等</li><li>2、 Token接入方式；除了常规Cookie方式外，新增Token接入方式，并提供Sample项目</li><li>3、 登录态自动延期：支持自定义登录态有效期窗口，默认24H，当登录态有效期窗口过半时，自动顺延一个周期</li><li>4、 “记住密码” 功能优化：未记住密码时，关闭浏览器则登录态失效；记住密码时，登录态自动延期，在自定义延期时间的基础上，原则上可以无限延期</li><li>5、 sessionId数据结构优化，进一步提升暴露破解难度</li><li>6、 认证数据存储结构调整，避免登陆信息存储冗余</li><li>7、 认证中心用户登录校验改为Mock数据方式，取消对DB强依赖，降低部署难度</li><li>8、 Client端依赖Core包，slf4j依赖优化，移除log4j强依赖</li><li>9、 Ajax请求未登录处理逻辑优化，返回JSON格式提示数据</li><li>10、项目结构梳理，清理冗余依赖，升级多项依赖版本至较近版本</li><li>11、路径排除：新增自定义属性 “excludedPaths”，允许设置多个，且支持Ant表达式。用于排除SSO客户端不需要过滤的路径</li></ul>
<h3 id="h3-5-3-v1-1-1-release-notes-"><a name="5.3 版本 v1.1.1 Release Notes [迭代中]" class="reference-link"></a><span class="header-link octicon octicon-link"></span>5.3 版本 v1.1.1 Release Notes [迭代中]</h3><ul>
<li>1、升级pom依赖版本；</li><li>2、[迭代中]spring mvc 版本示例；</li><li>3、[迭代中]Client跳转新增一次性Token验证；</li><li>4、拼写问题修复；</li></ul>
<h3 id="h3-todo-list"><a name="TODO LIST" class="reference-link"></a><span class="header-link octicon octicon-link"></span>TODO LIST</h3><ul>
<li>1、认证中心与接入端交互数据加密，增强安全性；redirect_url必须和临时AccessToken配合才会生效，AccessToken有效期60s，阅后即焚模式；</li><li>2、SSO SessionId 与IP绑定，增强用户增强安全性</li><li>3、支持认证分组，分组内共享登陆状态，分组之间登录态隔离，【待考虑】</li><li>4、客户端新增属性 “xxl.sso.server”，用于构建跳转连接，防止跳转第三方导致登陆漏洞</li><li>5、token验证方式增加jwt方式支持</li><li>6、Client端移除Redis依赖，改为 LocalCache/30s + RPC + Server-Redis/Broadcast 校验方式；</li><li>7、安全性增强，登陆用户数据中，新增客户端信息如ip、ua等，方式session被窃取；</li></ul>
<h2 id="h2--"><a name="六、其他" class="reference-link"></a><span class="header-link octicon octicon-link"></span>六、其他</h2><h3 id="h3-6-1-"><a name="6.1 项目贡献" class="reference-link"></a><span class="header-link octicon octicon-link"></span>6.1 项目贡献</h3><p>欢迎参与项目贡献！比如提交PR修复一个bug，或者新建 <a href="https://github.com/xuxueli/xxl-sso/issues/">Issue</a> 讨论新特性或者变更。</p>
<h3 id="h3-6-2-"><a name="6.2 用户接入登记" class="reference-link"></a><span class="header-link octicon octicon-link"></span>6.2 用户接入登记</h3><p>更多接入的公司，欢迎在 <a href="https://github.com/xuxueli/xxl-sso/issues/1">登记地址</a> 登记，登记仅仅为了产品推广。</p>
<h3 id="h3-6-3-"><a name="6.3 开源协议和版权" class="reference-link"></a><span class="header-link octicon octicon-link"></span>6.3 开源协议和版权</h3><p>产品开源免费，并且将持续提供免费的社区技术支持。个人或企业内部可自由的接入和使用。</p>
<ul>
<li>Licensed under the GNU General Public License (GPL) v3.</li><li>Copyright (c) 2015-present, xuxueli.</li></ul>
<hr>
<h3 id="h3-u6350u8D60"><a name="捐赠" class="reference-link"></a><span class="header-link octicon octicon-link"></span>捐赠</h3><p>无论金额多少都足够表达您这份心意，非常感谢 ：）      <a href="https://www.xuxueli.com/page/donate.html">前往捐赠</a></p>
</div>

        </div>

    </div>
</div>

<!-- footer start -->
<footer class="page-footer teal">
    <div class="container">
        <div class="row">
            <div class="col l5 s12">
                <h5 class="white-text">About</h5>
                <p class="grey-text text-lighten-4">
                    【XXL开源社区】成立于2015年，是专门为支持开源软件项目而创办的一个非盈利性组织，负责发行和维护XXL系列开源软件，崇尚开放、自由和分享。
                </p>
            </div>
            <div class="col offset-l1 l3 s12">
                <h5 class="white-text">Link</h5>
                <ul>
                    <li>
                        <a class="grey-text text-lighten-3" href="https://github.com/xuxueli" target="_blank">Github</a>
                    </li>
                </ul>
            </div>
            <div class="col l3 s12">
                <h5 class="white-text">Follow us</h5>
                <ul>
                    <li>
                        <img src="./分布式单点登录框架XXL-SSO_files/img_wechat_official_account_qrcode.png" width="80">
                        <br>
                        (关注公众号)
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="footer-copyright">
        <div class="container">
            Copyright (c) 2015-present, xuxueli.
            <a class="grey-text text-lighten-4 right"></a>
        </div>
    </div>
</footer>
<!-- footer end -->



<script src="./分布式单点登录框架XXL-SSO_files/hm.js.下载"></script><script async="" src="./分布式单点登录框架XXL-SSO_files/analytics.js.下载"></script><script src="./分布式单点登录框架XXL-SSO_files/jquery.min.js.下载"></script>
<script src="./分布式单点登录框架XXL-SSO_files/materialize.min.js.下载"></script>
<script>
    $(function () {
        $('.sidenav').sidenav();
    });
</script>

<!-- editormd -->
<script src="./分布式单点登录框架XXL-SSO_files/marked.min.js.下载"></script>
<script src="./分布式单点登录框架XXL-SSO_files/prettify.min.js.下载"></script>

<script src="./分布式单点登录框架XXL-SSO_files/raphael.min.js.下载"></script>
<script src="./分布式单点登录框架XXL-SSO_files/underscore.min.js.下载"></script>
<script src="./分布式单点登录框架XXL-SSO_files/sequence-diagram.min.js.下载"></script>
<script src="./分布式单点登录框架XXL-SSO_files/flowchart.min.js.下载"></script>
<script src="./分布式单点登录框架XXL-SSO_files/jquery.flowchart.min.js.下载"></script>

<script src="./分布式单点登录框架XXL-SSO_files/editormd.min.js.下载"></script>
<script type="text/javascript">
    $(function() {

        // blogPath
        var blogPath = "../doc/static/xxl-sso/XXL-SSO官方文档.md";

        // init
        $.get(blogPath, function(markdown) {

            editormd.katexURL  = {
                css : "../page/static/plugins/katex/katex.min",
                js  : "../page/static/plugins/katex/katex.min"
            };
            var testEditormdView = editormd.markdownToHTML("blog-content-view", {
                markdown        : markdown ,                //+ "\r\n" + $("#append-test").text(),
                //htmlDecode      : true,                   // 开启 HTML 标签解析，为了安全性，默认不开启
                htmlDecode      : "style,script,iframe",    // you can filter tags decode
                toc             : true,
                tocm            : true,                     // Using [TOCM]
                //tocContainer    : "#custom-toc-container",    // 自定义 ToC 容器层
                //gfm             : false,
                //tocDropdown     : true,
                // markdownSourceCode : true,               // 是否保留 Markdown 源码，即是否删除保存源码的 Textarea 标签
                emoji           : true,
                taskList        : true,
                tex             : true,  // 默认不解析
                flowChart       : true,  // 默认不解析
                sequenceDiagram : true,  // 默认不解析
            });

            // 获取Markdown源码
            //console.log(testEditormdView.getMarkdown());
            //alert(testEditormdView.getMarkdown());
        });

    });
</script>


<!-- google start -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-105336587-1', 'auto');
    ga('send', 'pageview');

</script>
<!-- google end -->

<!-- baidu start -->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?2a4e116e8983ca87e083a41b552fe6a2";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
<!-- baidu end -->

<!-- cnzz start -->
<script type="text/javascript">
    /*var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1263800177'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1263800177' type='text/javascript'%3E%3C/script%3E"));*/
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cspan style='display:none;' id='cnzz_stat_icon_1263800177'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1263800177' type='text/javascript'%3E%3C/script%3E"));
</script><span style="display:none;" id="cnzz_stat_icon_1263800177"><a href="https://www.cnzz.com/stat/website.php?web_id=1263800177" target="_blank" title="站长统计">站长统计</a></span><script src="./分布式单点登录框架XXL-SSO_files/z_stat.php" type="text/javascript"></script><script src="./分布式单点登录框架XXL-SSO_files/core.php" charset="utf-8" type="text/javascript"></script>
<!-- cnzz end -->


<div class="sidenav-overlay"></div><div class="drag-target"></div></body></html>